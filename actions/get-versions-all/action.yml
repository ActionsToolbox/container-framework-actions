name: 'Get versions wrapper'
description: 'Get versions wrapper'

outputs:
  alpine-versions:
    description: "Alpine Versions"
    value: ${{steps.alpine.outputs.versions}}
  centos-versions:
    description: "Centos Versions"
    value: ${{steps.centos.outputs.versions}}
  debian-versions:
    description: "Debian Versions"
    value: ${{steps.debian.outputs.versions}}

runs:
  using: "composite"
  steps:
    - name: Get alpine versions
      id: alpine
      run: echo "::set-output name=versions::$(ls -d Dockerfiles/alpine/*/ | cut -f3 -d'/' | sort -n | jq -cnR '[inputs | select(length>0)]')"
      shell: bash
    - name: Get centos versions
      id: centos
      uses: actionstoolbox/container-framework-actions/actions/get-versions-single@master
      with:
        os: 'centos'
    - name: Get debian versions
      id: debian
      uses: actionstoolbox/container-framework-actions/actions/get-versions-single@master
      with:
        os: 'debian'
